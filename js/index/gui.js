var GUI_module=function(t){function e(t){return.2126*t.r+.7152*t.g+.0722*t.b>=165?"#333":"#fff"}function a(t){if(/^#/.test(t)){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,a,o){return e+e+a+a+o+o});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}var a=t.replace(/rgba?\(/,"").replace(")","").split(",");return{r:parseInt(a[0]),g:parseInt(a[1]),b:parseInt(a[2])}}function o(t){this.app=t}return o.prototype.drawComingUp=function(e){if(e.length>0){var a="<table class='table'>";a+="<thead><tr><th>Nazev</th><th>Kdy</th><th>Kde</th><th>Co</th></thead><tbody>",e.forEach(function(t){a+="<tr>",a+="<td>"+t.name+"</td>",a+="<td>"+t.when+"</td>",a+="<td>"+t.where+"</td>",a+="<td>"+t.description+"</td>",a+="</tr>"}),a+="</tbody></table>",t(".coming-up").html(a)}},o.prototype.drawArticles=function(o){var r="<div class='row'>",l=0,s="";o.forEach(function(t){if(0!==l&&l%2==0&&(r+="</div><div class='row'>"),void 0!==t.bg_color){var o=e(a(t.bg_color));s="style='background: "+t.bg_color+"; color: "+o+";'"}else s="";r+="<div class='col-md-6'><div class='article' "+s+"><h3>"+t.title+"</h3><p>"+t.text+"<p></div></div>",l++}),r+="</div>",t(".articles").html(r),this.app.handler.registerArticles()},o.prototype.drawGalleryCarousel=function(e){var a="";e.forEach(function(t,e){var o="<div class='item'><img src='"+t.url+"'><div class='img-description'><h3>"+t.name+"</h3><p>"+t.year+"</p></div></div>";a+=o}),t("#gallery-carousel").html(a)},o.prototype.openArticle=function(o){t(".article-belt").addClass("slide"),t("#Clanky").addClass("opened");var r=this.app.articles[o],l=e(a(r.bg_color));t("#Clanky").css("color",l),this.app.getFullArticle(r.path,function(e){t("#Clanky").css("background",r.bg_color),t(".article-open").removeClass("loading"),t(".article-open").html("<h3>"+r.title+"</h3><p>"+e+"<p>")})},o.prototype.closeArticle=function(e){t(".article-belt").removeClass("slide"),t("#Clanky").removeClass("opened"),setTimeout(function(){t(".article-open").addClass("loading"),t("#Clanky").css("background",""),t("#Clanky").css("color",""),t(".article-open").html("<div class='article-loader loader-inner line-scale'><div></div><div></div><div></div><div></div><div></div></div>")},300)},o.prototype.showNav=function(){var e=t(".nav-toggle"),a=t("nav");a.addClass("showNav"),a.removeClass("purge"),e.addClass("dropped")},o.prototype.hideNav=function(){var e=t(".nav-toggle"),a=t("nav");a.removeClass("showNav"),e.removeClass("dropped"),setTimeout(function(){a.addClass("purge")},200)},o.prototype.resetForm=function(){t("#contact-form > input").each(function(){var e=t(this);if("_gotcha"!==e.attr("name")&&"_next"!==e.attr("name")){var a=(e.attr("value"),e.val(""));e.next(".filed-value").html(a)}}),t("#contact-form textarea").val("Zpráva:")},o.prototype.showThanks=function(){this.resetForm(),t(".contact-msg-row").html('<div class="alert alert-success alert-dimissible fade in"><button type="button" data-dismiss="alert" aria-label="Close" class="close"><span aria-hidden="true">×</span></button><h4>Hurá!</h4><p>Vše se podařilo. Děkuji za vaši zprávu.</p></div>'),setTimeout(function(){t(".contact-msg-row > div").alert("close")},1e4)},o.prototype.showSendError=function(e){"missing value"===e&&(t(".contact-msg-row").html('<div class="alert alert-danger alert-dimissible fade in"><button type="button" data-dismiss="alert" aria-label="Close" class="close"><span aria-hidden="true">×</span></button><h4>Ouha!</h4><p>Při odesílání se stala chyba. Prosím zkontrolujte zda máte vše vyplněno a zkuste to znovu.</p></div>'),setTimeout(function(){t(".contact-msg-row > div").alert("close")},1e4))},o}($);