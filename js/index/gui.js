var GUI_module=function(s){"use strict";function l(t){return 165<=.2126*t.r+.7152*t.g+.0722*t.b?"#333":"#fff"}function i(t){if(/^#/.test(t)){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,a,o){return e+e+a+a+o+o});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}t=t.replace(/rgba?\(/,"").replace(")","").split(",");return{r:parseInt(t[0]),g:parseInt(t[1]),b:parseInt(t[2])}}function t(t){this.app=t}return t.prototype.drawComingUp=function(t){var e;0<t.length&&(e="<table class='table'>",e+="<thead><tr><th>Nazev</th><th>Kdy</th><th>Kde</th><th>Co</th></thead><tbody>",t.forEach(function(t){e+="<tr>",e+="<td>"+t.name+"</td>",e+="<td>"+t.when+"</td>",e+="<td>"+t.where+"</td>",e+="<td>"+t.description+"</td>",e+="</tr>"}),e+="</tbody></table>",s(".coming-up").html(e))},t.prototype.drawArticles=function(t){var a="<div class='row'>",o=0,r="";t.forEach(function(t){var e;0!==o&&o%2==0&&(a+="</div><div class='row'>"),r=void 0!==t.bg_color?(e=l(i(t.bg_color)),"style='background: "+t.bg_color+"; color: "+e+";'"):"",a+="<div class='col-md-6'><div class='article' "+r+"><h3>"+t.title+"</h3><p>"+t.text+"<p></div></div>",o++}),a+="</div>",s(".articles").html(a),this.app.handler.registerArticles()},t.prototype.drawGalleryCarousel=function(t){var a="";t.forEach(function(t,e){t="<div class='item'><img src='"+t.url+"'><div class='img-description'><h3>"+t.name+"</h3><p>"+t.year+"</p></div></div>";a+=t}),s("#gallery-carousel").html(a)},t.prototype.openArticle=function(t){s(".article-belt").addClass("slide"),s("#Clanky").addClass("opened");var e=this.app.articles[t],t=l(i(e.bg_color));s("#Clanky").css("color",t),this.app.getFullArticle(e.path,function(t){s("#Clanky").css("background",e.bg_color),s(".article-open").removeClass("loading"),s(".article-open").html("<h3>"+e.title+"</h3><p>"+t+"<p>")})},t.prototype.closeArticle=function(t){s(".article-belt").removeClass("slide"),s("#Clanky").removeClass("opened"),setTimeout(function(){s(".article-open").addClass("loading"),s("#Clanky").css("background",""),s("#Clanky").css("color",""),s(".article-open").html("<div class='article-loader loader-inner line-scale'><div></div><div></div><div></div><div></div><div></div></div>")},300)},t.prototype.showNav=function(){var t=s(".nav-toggle"),e=s("nav");e.addClass("showNav"),e.removeClass("purge"),t.addClass("dropped")},t.prototype.hideNav=function(){var t=s(".nav-toggle"),e=s("nav");e.removeClass("showNav"),t.removeClass("dropped"),setTimeout(function(){e.addClass("purge")},200)},t.prototype.resetForm=function(){s("#contact-form > input").each(function(){var t,e=s(this);"_gotcha"!==e.attr("name")&&"_next"!==e.attr("name")&&(e.attr("value"),t=e.val(""),e.next(".filed-value").html(t))}),s("#contact-form textarea").val("Zpráva:")},t.prototype.showThanks=function(){this.resetForm(),s(".contact-msg-row").html('<div class="alert alert-success alert-dimissible fade in"><button type="button" data-dismiss="alert" aria-label="Close" class="close"><span aria-hidden="true">×</span></button><h4>Hurá!</h4><p>Děkuji za vaši zprávu.</p></div>'),setTimeout(function(){s(".contact-msg-row > div").alert("close")},1e4)},t.prototype.showSendError=function(t){"missing value"===t&&(s(".contact-msg-row").html('<div class="alert alert-danger alert-dimissible fade in"><button type="button" data-dismiss="alert" aria-label="Close" class="close"><span aria-hidden="true">×</span></button><h4>Ouha!</h4><p>Při odesílání se stala chyba. Prosím zkontrolujte zda máte vše vyplněno a zkuste to znovu.</p></div>'),setTimeout(function(){s(".contact-msg-row > div").alert("close")},1e4))},t}($);