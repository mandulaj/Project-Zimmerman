!function(t,e,n,o){"use strict";function r(t){for(var e=0;e<t.length;e++)t[e].text=o.toHTML(t[e].text);return t}function a(){var t=this;this.gui=new e(this),this.handler=new n(this);var o=[];o.push(this.getArticleList()),o.push(this.getPhotoList()),Promise.all(o).then(function(e){var n=e[0];t.articles=r(n.articles),t.gui.drawArticles(t.articles);var o=e[1];t.gui.drawGalleryCarousel(o);var a=[];t.gui.drawComingUp(a),t.handler.init()},function(t){console.log(t)})}a.prototype.getArticleList=function(){return this.getJSON("/data/articles.json")},a.prototype.getPhotoList=function(){return this.getJSON("/data/photos.json")},a.prototype.getJSON=function(e){return t.ajax(e,{dataType:"json",cache:!1,type:"GET"})},a.prototype.getFullArticle=function(e,n){t.ajax("/data/articles/"+e,{dataType:"text",cache:!1,type:"GET"}).done(function(t){n(o.toHTML(t))})},t(document).ready(function(){var e=new a;window.location.hash&&setTimeout(function(){var n=window.location.hash.split("/"),o=t(n[0]);if(!o.length)return 0;if(2==n.length&&"#Clanky"==n[0]){var r=parseInt(n[1]);if(r<e.articles.length)return e.gui.openArticle(r),e.handler.scrollToElement("#Clanky"),0}var a=parseInt(t(".headspacer").css("margin-bottom").replace(/[A-Za-z]/,""))-150;window.scrollTo(0,o.offset().top-a)},300)})}($,GUI_module,EventHandler_module,markdown);