!function(o,e,n,i){"use strict";function t(){var o=this;this.gui=new e(this),this.handler=new n(this);var t=[];t.push(this.getArticleList()),t.push(this.getPhotoList()),Promise.all(t).then(function(t){var e=t[0];o.articles=function(t){for(var e=0;e<t.length;e++)t[e].text=i.toHTML(t[e].text);return t}(e.articles),o.gui.drawArticles(o.articles);t=t[1];o.gui.drawGalleryCarousel(t);o.gui.drawComingUp([]),o.handler.init()},function(t){console.log(t)})}window.location.hash&&setTimeout(function(){var t=parseInt(o(".headspacer").css("margin-bottom").replace(/[A-Za-z]/,""))-150;window.scrollTo(0,o(window.location.hash).offset().top-t)},100),t.prototype.getArticleList=function(){return this.getJSON("/data/articles.json")},t.prototype.getPhotoList=function(){return this.getJSON("/data/photos.json")},t.prototype.getJSON=function(t){return o.ajax(t,{dataType:"json",cache:!1,type:"GET"})},t.prototype.getFullArticle=function(t,e){o.ajax("/data/articles/"+t,{dataType:"text",cache:!1,type:"GET"}).done(function(t){e(i.toHTML(t))})},o(document).ready(function(){new t})}($,GUI_module,EventHandler_module,markdown);